{"remainingRequest":"/home/king/vueProjects/onlineshopping/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/king/vueProjects/onlineshopping/src/views/UserManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/king/vueProjects/onlineshopping/src/views/UserManage.vue","mtime":1590214468844},{"path":"/home/king/vueProjects/onlineshopping/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/king/vueProjects/onlineshopping/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/king/vueProjects/onlineshopping/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJ1c2VyIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICB1c2VyczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgICAgICBlbWFpbDogJycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLAogICAgICAgICAgICBwYWdlU2l6ZTogNCwKICAgICAgICAgICAgdG90YWxFbGVtZW50czogNDAsCgogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlMjogZmFsc2UsCiAgICAgICAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLAogICAgICAgICAgICB1c2VyOiB7CiAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICBtb2JpbGU6ICcnLAogICAgICAgICAgICAgICAgdHlwZTogJycsCiAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5ld1VzZXI6IHsKICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgIG1vYmlsZTogJycsCiAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2JpZ2tpbmcudG9wOjgwODAvT25saW5lU2hvcHBpbmcvdXNlci91c2Vycy8wLzQnKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsRWxlbWVudHMgPSB0aGlzLnBhZ2VTaXplICogcmVzcG9uc2UuZGF0YS5kYXRhLnRvdGFscGFnZTsKICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhLmRhdGEudXNlcnM7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEudXNlcnMpOwogICAgICAgICAgICB9KQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBlZGl0VXNlcihzY29wZSl7CiAgICAgICAgICAgIHRoaXMudXNlciA9IHNjb3BlLnJvdzsvL+aKiui/meS4gOihjOeahOS/oeaBr+i1i+e7mWluZm9ybWF0aW9uCiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzY29wZS5yb3cpOwogICAgICAgIH0sCiAgICAgICAgYWRkVXNlcigpewogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMiA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBkZWxVc2VyKHNjb3BlKXsKICAgICAgICAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vYmlna2luZy50b3A6ODA4MC9PbmxpbmVTaG9wcGluZy91c2VyL3VzZXJzLycgKyBzY29wZS5yb3cuaWQpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHN1Ym1pdENoYW5nZSh1c2VyKXsKICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICBheGlvcy5wdXQoJ2h0dHA6Ly9iaWdraW5nLnRvcDo4MDgwL09ubGluZVNob3BwaW5nL3VzZXIvdXNlcnMvJyArIHVzZXIuaWQsIHVzZXIpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codXNlcik7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHN1Ym1pdEFkZFVzZXIobmV3VXNlcil7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUyID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1VzZXIpOwogICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vYmlna2luZy50b3A6ODA4MC9PbmxpbmVTaG9wcGluZy91c2VyL3VzZXJzLycsIG5ld1VzZXIpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3VXNlcik7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHBhZ2UoY3VycmVudFBhZ2UpewogICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9iaWdraW5nLnRvcDo4MDgwL09ubGluZVNob3BwaW5nL3VzZXIvdXNlcnMvJyArIChjdXJyZW50UGFnZSkgKyAnLycgKyB0aGlzLnBhZ2VTaXplKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhLmRhdGEudXNlcnM7CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlVHlwZShpZCwgdHlwZSl7CiAgICAgICAgICAgIGF4aW9zLnB1dCgnaHR0cDovL2JpZ2tpbmcudG9wOjgwODAvT25saW5lU2hvcHBpbmcvdXNlci91c2Vycy8nICsgaWQgKyAnL3N0YXRlLycgKyB0eXBlKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLm1ldGEubXNnKTsKICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEubWV0YS5tc2cpOwogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserManage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <el-row>\n            <el-button type=\"primary\" round @click=\"addUser\">增加用户</el-button>\n        </el-row>\n        <el-table :data=\"users\">\n            <el-table-column label=\"id\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.id}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"姓名\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.username}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"电话\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.mobile}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"状态\">\n                <template slot-scope=\"scope\">\n                    <el-switch\n                        v-model=\"scope.row.type\"\n                        active-color=\"#13ce66\"\n                        inactive-color=\"#ff4949\"\n                        @change=\"changeType(scope.row.id, scope.row.type)\">\n                    </el-switch>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"邮箱\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.email}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"修改\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" circle @click=\"editUser(scope)\"/>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"删除\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"delUser(scope)\"/>\n                </template>\n            </el-table-column>\n        </el-table>\n        <div style=\"text-align: center\">\n            <el-pagination\n                    background\n                    layout=\"prev, pager, next\"\n                    :page-size=pageSize\n                    :total=totalElements\n                    @current-change=\"page\">\n            </el-pagination>\n        </div>\n\n        <el-dialog title=\"修改信息\" :visible.sync=\"dialogFormVisible\">\n            <el-form :model=\"user\">\n                <el-form-item label=\"id\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"user.id\" autocomplete=\"off\" disabled=\"disabled\"/>\n                </el-form-item>\n                <el-form-item label=\"电话\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"user.mobile\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"邮箱\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"user.email\" autocomplete=\"off\"/>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitChange(user)\">确 定</el-button>\n            </div>\n        </el-dialog>\n\n\n\n        <el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible2\">\n            <el-form :model=\"newUser\">\n                <el-form-item label=\"姓名\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"newUser.username\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"密码\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"newUser.password\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"电话\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"newUser.mobile\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"邮箱\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"newUser.email\" autocomplete=\"off\"/>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible2 = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitAddUser(newUser)\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"user\",\n        data() {\n            return{\n                users: [\n                    {\n                        id: '',\n                        username: '',\n                        mobile: '',\n                        type: '',\n                        email: ''\n                    }\n                ],\n\n                currentPage: 0,\n                pageSize: 4,\n                totalElements: 40,\n\n                dialogFormVisible: false,\n                dialogFormVisible2: false,\n                formLabelWidth: '120px',\n                user: {\n                    id: '',\n                    username: '',\n                    mobile: '',\n                    type: '',\n                    email: '',\n                },\n                newUser: {\n                    id: '',\n                    username: '',\n                    mobile: '',\n                    type: '',\n                    email: '',\n                    password: ''\n                },\n                value: true\n            }\n        },\n        created() {\n            axios.get('http://bigking.top:8080/OnlineShopping/user/users/0/4')\n                .then(response => {\n                    this.totalElements = this.pageSize * response.data.data.totalpage;\n                    this.users = response.data.data.users;\n                    // console.log(response.data.data.users);\n                })\n        },\n        methods: {\n            editUser(scope){\n                this.user = scope.row;//把这一行的信息赋给information\n                this.dialogFormVisible = true;\n                // console.log(scope.row);\n            },\n            addUser(){\n                this.dialogFormVisible2 = true;\n            },\n            delUser(scope){\n                axios.delete('http://bigking.top:8080/OnlineShopping/user/users/' + scope.row.id)\n                    .then(response => {\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            },\n            submitChange(user){\n                this.dialogFormVisible = false;\n                axios.put('http://bigking.top:8080/OnlineShopping/user/users/' + user.id, user)\n                    .then(response => {\n                        // console.log(user);\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            },\n            submitAddUser(newUser){\n                this.dialogFormVisible2 = false;\n                console.log(newUser);\n                axios.post('http://bigking.top:8080/OnlineShopping/user/users/', newUser)\n                    .then(response => {\n                        console.log(newUser);\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            },\n            page(currentPage){\n                axios.get('http://bigking.top:8080/OnlineShopping/user/users/' + (currentPage) + '/' + this.pageSize)\n                    .then(response => {\n                        // console.log(response)\n                        this.users = response.data.data.users;\n                    })\n            },\n            changeType(id, type){\n                axios.put('http://bigking.top:8080/OnlineShopping/user/users/' + id + '/state/' + type)\n                .then(response => {\n                    // console.log(response.data.meta.msg);\n                    alert(response.data.meta.msg);\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}