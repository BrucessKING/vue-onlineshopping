{"remainingRequest":"/home/king/vueProjects/onlineshopping/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/king/vueProjects/onlineshopping/src/views/PermissionManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/king/vueProjects/onlineshopping/src/views/PermissionManage.vue","mtime":1588428137798},{"path":"/home/king/vueProjects/onlineshopping/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/king/vueProjects/onlineshopping/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/king/vueProjects/onlineshopping/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/king/vueProjects/onlineshopping/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJyb2xlIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByaWdodHM6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgYXV0aE5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcnLAogICAgICAgICAgICAgICAgICAgIGxldmVsOiAnJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAoKICAgICAgICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTI6IGZhbHNlLAogICAgICAgICAgICBmb3JtTGFiZWxXaWR0aDogJzEyMHB4JywKICAgICAgICAgICAgcmlnaHQ6IHsKICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgIGF1dGhOYW1lOiAnJywKICAgICAgICAgICAgICAgIHBhdGg6ICcnLAogICAgICAgICAgICAgICAgbGV2ZWw6ICcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5ld1JpZ2h0OiB7CiAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICBhdXRoTmFtZTogJycsCiAgICAgICAgICAgICAgICBwYXRoOiAnJywKICAgICAgICAgICAgICAgIGxldmVsOiAnJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vYmlna2luZy50b3A6ODA4MC9PbmxpbmVTaG9wcGluZy9yaWdodHMvbGlzdCcpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucmlnaHRzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEuZGF0YSk7CiAgICAgICAgICAgIH0pCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGVkaXRSb2xlKHNjb3BlKXsKICAgICAgICAgICAgdGhpcy5yaWdodCA9IHNjb3BlLnJvdzsvL+aKiui/meS4gOihjOeahOS/oeaBr+i1i+e7mWluZm9ybWF0aW9uCiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzY29wZS5yb3cpOwogICAgICAgIH0sCiAgICAgICAgYWRkUm9sZSgpewogICAgICAgICAgICAvLyB0aGlzLm5ld1JvbGUgPSBzY29wZS5yb3c7Ly/miorov5nkuIDooYznmoTkv6Hmga/otYvnu5lpbmZvcm1hdGlvbgogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMiA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBkZWxSb2xlKHNjb3BlKXsKICAgICAgICAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vYmlna2luZy50b3A6ODA4MC9PbmxpbmVTaG9wcGluZy9yb2xlcy8nICsgc2NvcGUucm93LmlkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEubWV0YS5tc2cpOwogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBzdWJtaXRDaGFuZ2UocmlnaHQpewogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIGF4aW9zLnB1dCgnaHR0cDovL2JpZ2tpbmcudG9wOjgwODAvT25saW5lU2hvcHBpbmcvcm9sZXMvJyArIHJpZ2h0LmlkLCByaWdodCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyaWdodCk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHN1Ym1pdEFkZFJvbGUobmV3UmlnaHQpewogICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdSaWdodCkKICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZTIgPSBmYWxzZTsKICAgICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2JpZ2tpbmcudG9wOjgwODAvT25saW5lU2hvcHBpbmcvcm9sZXMnLCBuZXdSaWdodCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdSaWdodCk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5tZXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["PermissionManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PermissionManage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <el-table :data=\"rights\">\n            <el-table-column label=\"id\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.id}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"权限名称\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.authName}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"路径\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.path}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"权限等级\">\n                <template slot-scope=\"scope\">\n                    <span v-if=\"scope.row.level === '0'\" class=\"el-tag el-tag--light\">一级权限</span>\n                    <span v-if=\"scope.row.level === '1'\" class=\"el-tag el-tag--success el-tag--light\">二级权限</span>\n                    <span v-if=\"scope.row.level === '2'\" class=\"el-tag el-tag--warning el-tag--light\">三级权限</span>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-dialog title=\"修改信息\" :visible.sync=\"dialogFormVisible\">\n            <el-form :model=\"right\">\n                <el-form-item label=\"id\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.id\" autocomplete=\"off\" disabled=\"disabled\"/>\n                </el-form-item>\n                <el-form-item label=\"权限名称\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.authName\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"路径\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.path\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"权限等级\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.level\" autocomplete=\"off\"/>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitChange(right)\">确 定</el-button>\n            </div>\n        </el-dialog>\n\n\n\n        <el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible2\">\n            <el-form :model=\"newRight\">\n                <el-form-item label=\"权限名称\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.authName\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"路径\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.path\" autocomplete=\"off\"/>\n                </el-form-item>\n                <el-form-item label=\"权限等级\" :label-width=\"formLabelWidth\">\n                    <el-input v-model=\"right.level\" autocomplete=\"off\"/>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible2 = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitAddRole(newRight)\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"role\",\n        data() {\n            return{\n                rights: [\n                    {\n                        id: '',\n                        authName: '',\n                        path: '',\n                        level: ''\n                    }\n                ],\n\n                dialogFormVisible: false,\n                dialogFormVisible2: false,\n                formLabelWidth: '120px',\n                right: {\n                    id: '',\n                    authName: '',\n                    path: '',\n                    level: ''\n                },\n                newRight: {\n                    id: '',\n                    authName: '',\n                    path: '',\n                    level: ''\n                }\n            }\n        },\n        created() {\n            axios.get('http://bigking.top:8080/OnlineShopping/rights/list')\n                .then(response => {\n                    this.rights = response.data.data.data;\n                    // console.log(response.data.data.data);\n                })\n        },\n        methods: {\n            editRole(scope){\n                this.right = scope.row;//把这一行的信息赋给information\n                this.dialogFormVisible = true;\n                // console.log(scope.row);\n            },\n            addRole(){\n                // this.newRole = scope.row;//把这一行的信息赋给information\n                this.dialogFormVisible2 = true;\n            },\n            delRole(scope){\n                axios.delete('http://bigking.top:8080/OnlineShopping/roles/' + scope.row.id)\n                    .then(response => {\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            },\n            submitChange(right){\n                this.dialogFormVisible = false;\n                axios.put('http://bigking.top:8080/OnlineShopping/roles/' + right.id, right)\n                    .then(response => {\n                        // console.log(right);\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            },\n            submitAddRole(newRight){\n                console.log(newRight)\n                this.dialogFormVisible2 = false;\n                axios.post('http://bigking.top:8080/OnlineShopping/roles', newRight)\n                    .then(response => {\n                        // console.log(newRight);\n                        alert(response.data.meta.msg);\n                        location.reload();\n                    });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}